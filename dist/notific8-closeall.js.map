{"version":3,"sources":["../src/js/notific8-closeall.js"],"names":[],"mappings":"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","file":"notific8-closeall.js","sourcesContent":["/*\n@author Will Steinmetz\nClose all module for the notific8 notification plug-in\nCopyright (c)2013-2016, Will Steinmetz\nLicensed under the BSD license.\nhttp://opensource.org/licenses/BSD-3-Clause\n */\n\n(function(window) {\n  let buildClasses, buildHtml, closeAllCallback, getCloseAllButton, getContainer, getNumberOfNotifications, notific8Data;\n  notific8Data = null;\n\n  /*\n  Build the HTML for close all\n  @return string\n   */\n  buildHtml = function() {\n    let closeAllClasses;\n    if (notific8Data.closeAll) {\n      closeAllClasses = [notific8Data.namespace + \"-closeall-button\", notific8Data.closeAllTheme, notific8Data.closeAllColor];\n      return \"<a class=\\\"\" + (closeAllClasses.join(\" \")) + \"\\\"\\n  href=\\\"#\\\">\\n  \" + notific8Data.closeAllText + \"\\n</a>\";\n    } else {\n      return \"\";\n    }\n  };\n\n  /*\n  Build the classes array for close all\n  @return string\n   */\n  buildClasses = function() {\n    if (notific8Data.closeAll) {\n      return [notific8Data.namespace + \"-closeall\"];\n    } else {\n      return [];\n    }\n  };\n\n  /*\n  Setup the callback for the notification\n  @return object\n   */\n  closeAllCallback = function(data) {\n    notific8Data = data;\n    return {\n      classes: buildClasses(),\n      html: buildHtml()\n    };\n  };\n\n  /*\n  Get the container that the notification is inside of\n  @params object data\n  @return object\n   */\n  getContainer = function(data) {\n    let containerClass, horizontalEdge, namespace, ref, verticalEdge;\n    ref = data.settings, verticalEdge = ref.verticalEdge, horizontalEdge = ref.horizontalEdge, namespace = ref.namespace;\n    containerClass = \".\" + namespace + \"-container.\" + verticalEdge + \".\" + horizontalEdge;\n    return document.querySelector(containerClass);\n  };\n\n  /*\n  Get the number of notifications in the container\n  @params object data\n  @return number\n   */\n  getNumberOfNotifications = function(data) {\n    let container, namespace;\n    container = getContainer(data);\n    namespace = data.settings.namespace;\n    return container.querySelectorAll(\".\" + namespace + \"-notification.open\").length;\n  };\n\n  /*\n  Get the close all button\n  @params object data\n  @return object\n   */\n  getCloseAllButton = function(data) {\n    let container, namespace;\n    container = getContainer(data);\n    namespace = data.settings.namespace;\n    return container.querySelector(\".\" + namespace + \"-closeall-button\");\n  };\n\n  window.notific8(\"configure\", {\n    onCreate: function(notification, data) {\n      let closeButton;\n      if (!window.notific8Defaults.closeAll) {\n        return;\n      }\n      if (getNumberOfNotifications(data) > 0) {\n        closeButton = getCloseAllButton(data);\n        return closeButton.style.display = \"block\";\n      }\n    }\n  });\n\n  window.notific8(\"configure\", {\n    onClose: function(notification, data) {\n      let closeButton;\n      if (!window.notific8Defaults.closeAll) {\n        return;\n      }\n      if (getNumberOfNotifications(data) <= 1) {\n        closeButton = getCloseAllButton(data);\n        return closeButton.style.display = \"none\";\n      }\n    }\n  });\n\n  window.notific8(\"configure\", {\n    onContainerCreate: function(container, options) {\n      let containerClasses, containerPosition;\n      containerPosition = \"\";\n      containerClasses = container.className.split(\" \");\n      containerPosition += containerClasses.indexOf(\"top\") > -1 ? \"top\" : \"bottom\";\n      containerPosition += containerClasses.indexOf(\"right\") > -1 ? \"Right\" : \"Left\";\n      return container.addEventListener(\"click\", function(event) {\n        let closeAllButtonClass, fn, i, len, namespace, notification, notificationClass, notifications, target;\n        event.preventDefault();\n        target = event.target;\n        namespace = options.namespace;\n        closeAllButtonClass = namespace + \"-closeall-button\";\n        if (target.className.split(\" \").indexOf(closeAllButtonClass) === -1) {\n          return;\n        }\n        notificationClass = \".\" + namespace + \"-notification.open\";\n        notifications = container.querySelectorAll(notificationClass);\n        fn = function(n, namespace) {\n          return n.querySelector(\".\" + namespace + \"-close\").click();\n        };\n        for (i = 0, len = notifications.length; i < len; i++) {\n          notification = notifications[i];\n          fn(notification, namespace);\n        }\n      });\n    }\n  });\n\n  window.notific8(\"registerModule\", \"closeall\", \"insideContainer\", {\n    closeAll: false,\n    closeAllText: \"Close All\",\n    closeAllTheme: \"legacy\",\n    closeAllColor: \"teal\"\n  }, closeAllCallback);\n})(window);\n"]}